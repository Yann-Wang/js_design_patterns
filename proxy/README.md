#### 代理模式
- 客户 ---> 代理 ---> 本体

##### 代理分类
- 保护代理: 保护代理可以帮助本体过滤一些请求; 用于控制不同权限的对象对目标对象的访问。
- 虚拟代理: 代替客户去执行一些请求。
- 缓存代理: 为本体返回的结果提供暂时的存储。
- 防火墙代理: 控制网络资源的访问。
- 远程代理: 为一个对象在不同的地址空间提供局部代表。
- 智能引用代理: 取代了简单的指针，它在访问对象时执行了一些附加操作，比如计算一个对象被引用的次数。
- 写时复制代理: 通常用于复制一个庞大对象的情况。写时复制代理延迟了复制的过程，当对象被真正修改时，才对它进行复制操作。
写时复制代理是虚拟代理的一种变体，DLL（操作系统中的动态链接库）是其典型运用场景。


##### 虚拟代理的使用场景
- 代替客户请求本体
- 实现图片预加载
- 合并HTTP请求
- 在惰性加载中的应用
- 写时复制代理：虚拟代理把一些开销很大的对象，延迟到真正需要它的时候才去创建。

##### 缓存代理的应用
- 缓存一些开销大的运算结果，在下次运算时，如果传递进来的参数跟之前一致，则可以直接返回前面存储的结果。
- 缓存分页请求数据

##### 代理的意义
- 使得对象符合单一职责原则和开放-封闭原则。

##### 代理接口的要求: 代理和本体接口的一致性
- 在客户看来，代理对象和本体是一致的，代理接手请求的过程，对于用户来说是透明的，用户并不清楚代理和本体的区别，
这样做有两个好处：
    - 用户可以放心地请求代理，用户只关心是否能得到想要的结果
    - 在任何使用本体的地方，都可以替换成使用代理
- 通过鸭子类型来检测代理和本体是否都实现了相同的方法，或者干脆不做检测。